<html>
    <head>
        <script
            src='https://code.responsivevoice.org/responsivevoice.js'>
        </script>
        <script
            src="http://code.jquery.com/jquery-1.11.1.js"></script>
        <script
            src='/socket.io/socket.io.js'>
        </script>
        <script>
         var socket = io.connect('http://localhost:8080');
         var examples = {}
         var fnSpeak = function(index){
             var text = examples[index].example;
             var speaker = "US English Male";
             responsiveVoice.speak(text, speaker);
         };

         socket.emit('register', {});

         socket.on('onReadExamples', function(data){
             examples = data.data
             $('#id_examples').empty();
             for (var i in examples)
             {
                 var example = examples[i].example;
                 var word = examples[i].word;

                 var $span = $('<span/>').text(example);
                 var $input = $('<input/>',
                                {type: 'button', value: 'sound'});
                 $input.click(fnSpeak.bind(this, i));

                 $('#id_examples').append(
                     $('<li/>')
                         .append($span)
                         .append($input)
                         );
             }
         });
        </script>
    </head>

    <body>
        <ul id="id_examples">
        </ul>
        <p id="id_log"/>
    </body>

</html>
